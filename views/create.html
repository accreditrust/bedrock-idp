{% set pageTitle = "Create Identity" %}
{% set clientData.pageTitle = "Create Identity" %}
{% include "head.html" %}

{% raw %}
<div class="row ng-cloak" data-ng-controller="CreateIdentityCtrl">
  <div class="span8 offset2">
    <h2>Create an Identity</h2>

    <p>
    By creating entering a valid email address and password you will be able to
    log into the service.
    </p>

    <div data-ng-include="'/app/templates/demo-warning.html'"></div>

    <hr />

    <form id="createIdentityFeedbackTarget" class="form-horizontal" action="" data-ng-submit="submit()">
      <fieldset>
        <legend>Your Email and Password</legend>

        <div class="control-group" data-binding="email">
          <label class="control-label" for="email">Email</label>
          <div class="controls">
            <div class="input-append">
              <input class="input-xlarge form-field-vspaced"
                name="email" data-binding="email" type="text"
                data-ng-model="identity.email"
                data-track-state="model.help.email"
                data-ng-disabled="loading"
                autocomplete="off" />
              <button class="btn" data-help-toggle="model.help.email">
                <i class="icon-question-sign"></i>
              </button>
            </div>
            <div data-duplicate-checker="identity.email"
              data-duplicate-checker-type="email"
              data-duplicate-checker-available="This email address is available!"
              data-duplicate-checker-invalid="Email address is invalid."
              data-duplicate-checker-taken="This email address is already in use. While you can create a new identity if you want to, you may want to log in as your existing identity instead."
              data-duplicate-checker-checking="Checking Availability..."
              data-duplicate-checker-result="model.emailAvailable">
            </div>
            <p data-fade-toggle="model.help.email.show" class="help-block">
              A valid email address is required so that we can reset
              your password if you get locked out.
            </p>
          </div>
        </div>

        <div class="control-group" data-binding="sysPassword">
          <label class="control-label" for="password">Password</label>
          <div class="controls">
            <div class="input-append">
              <input class="input-xlarge"
                name="password" data-binding="sysPassword"
                maxlength="32" type="password"
                data-ng-model="identity.sysPassword"
                data-track-state="model.help.password"
                data-ng-disabled="loading" />
              <button class="btn" data-help-toggle="model.help.password">
                <i class="icon-question-sign"></i>
              </button>
            </div>
            <p data-fade-toggle="model.help.password.show" class="help-block">
              Please enter a secure password; the best passwords are
              long, memorable phrases like: the<strong>lemurs</strong>ride<strong>on</strong>the<strong>fortnight</strong>
            </p>
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>Your Identity</legend>

        <div class="control-group">
          <p class="help-block">
    Your identity will be used to keep track of and verify your online
    activity with this service. It is usually a good idea to use some
    shortened form of your full name here, similar to how people choose
    email addresses or twitter handles.
          </p>
        </div>

        <div class="control-group" data-binding="sysIdentity.label">
          <label class="control-label" for="identity">Identity Name</label>
          <div class="controls">
            <div class="input-append">
              <input class="input-xlarge"
                name="identity-label" type="text"
                data-slug-out="identity.sysSlug"
                data-ng-model="identity.label"
                data-track-state="model.help.identityLabel"
                data-ng-disabled="loading"
                autocomplete="off" />
              <button class="btn" data-help-toggle="model.help.identityLabel">
                <i class="icon-question-sign"></i>
              </button>
            </div>
            <p data-fade-toggle="model.help.identityLabel.show"
              class="help-block">
              Enter your online handle, for example, some form of your full
              name like 'janedoe'. You can also customize your identity vanity
              address below:
            </p>
            <p><small>{{data.identityBaseUri}}/</small><input
              data-binding="identity.sysSlug" class="slug"
              name="identity-slug" type="text" maxlength="32"
              placeholder="IDENTITY-NAME"
              data-slug-in data-ng-model="identity.sysSlug"
              data-ng-disabled="loading" /></p>
            <div data-duplicate-checker="identity.sysSlug"
              data-duplicate-checker-type="Identity"
              data-duplicate-checker-available="This identity name is available!"
              data-duplicate-checker-invalid="Identity name is invalid."
              data-duplicate-checker-taken="Identity name has already been taken."
              data-duplicate-checker-checking="Checking Availability..."
              data-duplicate-checker-result="model.identitySlugAvailable">
            </div>
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>Service Agreement</legend>

        <label class="checkbox">
          <input type="checkbox" data-ng-model="agreementChecked"> I agree to the <a href="/legal#tos">Terms of Service</a> and <a href="/legal#pp">Privacy Policy</a>.
        </label>
      </fieldset>

      <div class="form-actions">
        <div class="modal-feedback"
          data-feedback="feedback" data-target="feedbackTarget"></div>
        <button data-ng-disabled="loading || !model.identitySlugAvailable || !model.emailAvailable || !agreementChecked"
          class="btn btn-large btn-primary"
          data-submit-form>Create Identity</button>
        <span data-spinner="loading"
          data-spinner-class="append-btn-spinner"></span>
      </div>

      <div name="create-feedback" class="feedback"></div>
    </form>
  </div>
</div>
{% endraw %}

{% include "foot.html" %}
