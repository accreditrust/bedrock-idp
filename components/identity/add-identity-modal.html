<div class="modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <a class="close stackable-cancel">&times;<span class="sr-only">Close</span></a>
        <h3 class="modal-title">New Identity</h3>
      </div>
      <div class="modal-body">
        <br-demo-warning></br-demo-warning>

        <p>To add a new identity please fill out the form below.</p>

        <div class="section">
          <h4 class="headline">New Identity</h4>
          <form class="well form-vertical">
            <fieldset>
              <div class="form-group" br-property-path="label">
                <label for="name">Name</label>
                <div class="input-group">
                  <span class="input-group-addon"><i class="fa fa-tag"></i></span>
                  <!-- FIXME: remove br-slug-out, use br-slug-in="identityLabel" below -->
                  <input class="form-control" type="text" name="label"
                    ng-model="identityLabel"
                    br-slug-out="identitySlug"
                    br-track-state="model.help.identityLabel"
                    autocomplete="off" />
                  <span class="input-group-btn">
                    <button class="btn btn-default"
                      br-help-toggle="model.help.identityLabel">
                      <i class="fa fa-question-circle"></i>
                    </button>
                  </span>
                </div>
                <p ng-show="model.help.identityLabel.show"
                  class="help-block br-fadein br-fadeout">
                  Enter your online handle, for example, some form of your full
                  name like 'janedoe'. The name you choose will become part of
                  your identity URL. You can also customize your identity
                  URL:
                </p>
                <p><small>{{data.idp.identityBaseUri}}/</small><input
                  br-property-path="sysSlug" class="br-slug" name="slug"
                  placeholder="IDENTITY-NAME"
                  br-slug-in ng-model="identitySlug" /></p>
                <div br-duplicate-checker="identitySlug"
                  br-duplicate-checker-type="identity"
                  br-duplicate-checker-available="This identity name is available!"
                  br-duplicate-checker-invalid="Identity name is invalid."
                  br-duplicate-checker-taken="Identity name has already been taken."
                  br-duplicate-checker-checking="Checking Availability..."
                  br-duplicate-checker-result="model.identitySlugAvailable">
                </div>
              </div>
              <div class="form-group">
                <label for="type">Type</label>
                <div class="input-group-addon">
                  <span class="input-group-addon"><i class="fa fa-user"></i></span>
                  <select name="type"
                    ng-model="identityType"
                    ng-options="identityTypeLabels[type] for type in identityTypes">
                  </select>
                </div>
                <p class="help-block"
                  ng-show="identityType == 'Identity'">Choose this type if this identity is for a person.</p>
              </div>
            </fieldset>
          </form>
        </div>

      </div>
      <div class="modal-footer">
        <span ng-show="loading">
          <i class="fa fa-refresh fa-spin text-muted"></i>
        </span>
        <button type="button" class="btn btn-primary"
          ng-disabled="loading || model.identitySlugAvailable != 'available'"
          ng-click="addIdentity()"><i class="fa fa-check"></i> Add</button>
        <button type="button" class="btn btn-default stackable-cancel" ng-disabled="loading">Cancel</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
